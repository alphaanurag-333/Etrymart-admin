<div class="card" *ngIf="!isLoading && !error; else loadingOrError">
  <div class="card-header">
    <h3>Admin Profile</h3>
  </div>

  <div class="card-body">
    <form (ngSubmit)="onProfileSubmit()">
      <div class="row">
        <!-- Name -->
        <div class="mb-3 col-lg-6">
          <label class="form-label"><strong>Name:</strong></label>
          <input type="text" class="form-control" [(ngModel)]="admin.name" name="name" required />
        </div>

        <!-- Email -->
        <div class="mb-3 col-lg-6">
          <label class="form-label"><strong>Email:</strong></label>
          <input type="email" class="form-control" [(ngModel)]="admin.email" name="email" required />
        </div>

        <!-- Mobile -->
        <div class="mb-3 col-lg-6">
          <label class="form-label"><strong>Mobile:</strong></label>
          <input type="text" class="form-control" [(ngModel)]="admin.mobile" name="mobile" required />
        </div>

        <!-- Profile Image -->
        <div class="mb-3 col-lg-6">
          <label class="form-label"><strong>Profile Image:</strong></label>
          <input type="file" class="form-control" accept="image/*" (change)="onFileChange($event)" />

          <div class="mt-2">
            <img *ngIf="previewUrl || admin.image" [src]="previewUrl ? previewUrl : admin.image" alt="Admin Image"
              width="100" class="img-thumbnail" />
          </div>
        </div>

      </div>

      <button type="submit" class="btn btn-primary primary">Update Profile</button>
    </form>
  </div>

  <hr />

  <!-- Change Password Section -->
  <div class="card-body">
    <h5>Change Password</h5>
    <form (ngSubmit)="onPasswordChange()">
      <div class="row">
        <!-- Old Password -->
        <div class="mb-3 col-lg-6">
          <label><strong>Old Password:</strong></label>
          <input type="password" class="form-control" [(ngModel)]="passwordForm.oldPassword" name="oldPassword"
            required />
        </div>

        <!-- New Password -->
        <div class="mb-3 col-lg-6">
          <label><strong>New Password:</strong></label>
          <input type="password" class="form-control" [(ngModel)]="passwordForm.newPassword" name="newPassword"
            required />
        </div>
      </div>

      <button type="submit" class="btn btn-primary primary">Change Password</button>
    </form>
  </div>
</div>

<!-- Loading or Error Template -->
<ng-template #loadingOrError>
  <div class="text-center p-4">
    <p *ngIf="isLoading">Loading profile...</p>
    <p *ngIf="error" class="text-danger">{{ error }}</p>
  </div>
</ng-template>