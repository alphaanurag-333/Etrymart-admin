 <!-- <img src="https://img.freepik.com/free-photo/cropped-image-woman-inputting-card-information-key-phone-laptop-while-shopping-online_1423-68.jpg?t=st=1755694176~exp=1755697776~hmac=d21720115996cbab8a8422c863832ede222441c27406d7e095cb8b30d5f86db3&w=1060" class="login-overlay position-absolute" alt="" > -->
<div
  class="container overlay-container min-vh-100 d-flex flex-column justify-content-start justify-content-center position-relative"
>
  <div class="row  justify-content-center login-wrapper  ">
    <div class="col-md-6 col-lg-4 shadow-lg p-0  bg-white d-flex justify-content-center align-items-center login-tabs">
     <div class="p-sm-4 p-3 login-vector-img">
       <img
        class="w-100 h-100"
        src="assets/images/login-vector.png"
        alt=""
        srcset=""
      />
     </div>
    </div>
    <div class="col-md-6 col-lg-4 p-0 pt-4 bg-white shadow-lg d-flex flex-column align-items-center justify-content-start login-tabs ">
      <img class="w-50 pb-2 " src="assets/images/login-etrymartlogo.png" alt="" srcset="">
      <div class="card  border-0 ">
        <div class="text-left ps-4 ">
          <h4 class="mb-0 text-center primaryTitleColor">Seller Login</h4>
        </div>

        <!-- Tabs for Switching Between Login Modes -->
        <div class="card-body py-4">
          <ul
            class="nav nav-tabs seller-nav-tabs"
            id="loginTabs"
            role="tablist"
          >
            <li class="nav-item" role="presentation">
              <button
                class="nav-link seller-nav-link "
                [class.active]="isOtpLogin"
                (click)="toggleLoginMode(true)"
                type="button"
                role="tab"
              >
                OTP Login
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link seller-nav-link"
                [class.active]="!isOtpLogin"
                (click)="toggleLoginMode(false)"
                type="button"
                role="tab"
              >
                Email/Password Login
              </button>
            </li>
          </ul>

          <form
            [formGroup]="isOtpLogin ? otpLoginForm : emailPasswordLoginForm"
            (ngSubmit)="
              isOtpLogin ? onSubmitOtpLogin() : onSubmitEmailPasswordLogin()
            "
          >
            <!-- OTP Login Form -->
            <div *ngIf="isOtpLogin">
              <!-- Mobile Number -->
              <div class="mb-2">
                <label for="mobile" class="form-label fw-semibold"
                  >Mobile Number</label
                >
                <input
                  type="tel"
                  id="mobile"
                  maxlength="10"
                  class="form-control"
                  formControlName="mobile"
                  [readonly]="otpSent"
                  placeholder="Enter 10-digit mobile number"
                  [class.is-invalid]="
                    otpLoginForm.controls.mobile.invalid &&
                    otpLoginForm.controls.mobile.touched
                  "
                  autocomplete="off"
                />
                <div
                  class="invalid-feedback"
                  *ngIf="otpLoginForm.controls.mobile.errors"
                >
                  <span class="error-msg"
                    *ngIf="otpLoginForm.controls.mobile.hasError('required')"
                    >Mobile is required.</span
                  >
                  <span class="error-msg" *ngIf="otpLoginForm.controls.mobile.hasError('pattern')"
                    >Enter a valid 10-digit number.</span
                  >
                </div>
              </div>

              <!-- Send OTP Button -->
              <button
                *ngIf="!otpSent"
                type="submit"
                class="btn btn-primary seller-login-btn w-100 mb-3"
                [disabled]="loading || otpLoginForm.controls.mobile.invalid"
              >
                {{ loading ? "Sending OTP..." : "Send OTP" }}
              </button>

              <!-- OTP Section -->
              <div *ngIf="otpSent">
                <div class="mb-3">
                  <label for="otp" class="form-label fw-semibold"
                    >Enter OTP</label
                  >
                  <input
                    type="text"
                    id="otp"
                    maxlength="4"
                    class="form-control"
                    formControlName="otp"
                    placeholder="Enter 4-digit OTP"
                    [class.is-invalid]="
                      otpLoginForm.controls.otp.invalid &&
                      otpLoginForm.controls.otp.touched
                    "
                    autocomplete="off"
                    [disabled]="loading"
                  />
                  <div
                    class="invalid-feedback"
                    *ngIf="otpLoginForm.controls.otp.errors"
                  >
                    <span class="error-msg" *ngIf="otpLoginForm.controls.otp.hasError('required')"
                      >OTP is required.</span
                    >
                    <span class="error-msg" *ngIf="otpLoginForm.controls.otp.hasError('pattern')"
                      >Enter a valid 4-digit OTP.</span
                    >
                  </div>
                </div>

                <!-- Verify OTP Button -->
                <button
                  type="button"
                  class="btn seller-login-btn w-100 mb-2"
                  [disabled]="loading || otpLoginForm.controls.otp.invalid"
                  (click)="onVerifyOtp()"
                >
                  {{ loading ? "Verifying..." : "Verify OTP" }}
                </button>

                <!-- Resend OTP Button -->
                <button
                  type="button"
                  class="btn btn-outline-secondary w-100"
                  [disabled]="loading"
                  (click)="onResendOtp()"
                >
                  Resend OTP
                </button>
              </div>
            </div>

            <!-- Email/Password Login Form -->
            <div *ngIf="!isOtpLogin">
              <div class="mb-2">
                <label for="email" class="form-label fw-semibold">Email</label>
                <input
                  type="email"
                  id="email"
                  class="form-control"
                  formControlName="email"
                  placeholder="Enter your email"
                  autocomplete="off"
                  [class.is-invalid]="
                    emailPasswordLoginForm.controls.email.invalid &&
                    emailPasswordLoginForm.controls.email.touched
                  "
                />
                <div
                  class="invalid-feedback"
                  *ngIf="emailPasswordLoginForm.controls.email.errors"
                >
                  <span class="error-msg"
                    *ngIf="
                      emailPasswordLoginForm.controls.email.hasError('required')
                    "
                    >Email is required.</span
                  >
                  <span class="error-msg"
                    *ngIf="
                      emailPasswordLoginForm.controls.email.hasError('email')
                    "
                    >Enter a valid email address.</span
                  >
                </div>
              </div>

              <div class="mb-3">
                <label for="password" class="form-label fw-semibold"
                  >Password</label
                >
                <input
                  type="password"
                  id="password"
                  class="form-control"
                  formControlName="password"
                  placeholder="Enter your password"
                  autocomplete="off"
                  [class.is-invalid]="
                    emailPasswordLoginForm.controls.password.invalid &&
                    emailPasswordLoginForm.controls.password.touched
                  "
                />
                <div
                  class="invalid-feedback"
                  *ngIf="emailPasswordLoginForm.controls.password.errors"
                >
                  <span class="error-msg"
                    *ngIf="
                      emailPasswordLoginForm.controls.password.hasError(
                        'required'
                      )
                    "
                    >Password is required.</span
                  >
                  <span class="error-msg"
                    *ngIf="
                      emailPasswordLoginForm.controls.password.hasError(
                        'minlength'
                      )
                    "
                    >Password must be at least 6 characters.</span
                  >
                </div>
              </div>

              <!-- Login Button -->
              <button
                type="submit"
                class="btn btn-primary seller-login-btn w-100 mb-3"
                [disabled]="loading || emailPasswordLoginForm.invalid"
              >
                {{ loading ? "Logging in..." : "Login" }}
              </button>
            </div>
          </form>
          <div class="text-center py-1">
            <small>Don't have an account?</small>
            <button
              class="btn fw-semibold primaryTitleColor p-0 ms-2"
              (click)="navigateToRegister()"
              [disabled]="loading"
            >
              Register
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
